<ng-container *ngIf="isNavigatedFromCustomerDetail; else userNavbar">
  <app-admin-dashboard></app-admin-dashboard>
</ng-container>

<ng-template #userNavbar>
  <app-navbar></app-navbar>
</ng-template>

<div class="container py-5">
  <div class=" row d-flex justify-content-center align-items-center">
    <form class="col-8" [formGroup]="updateUserForm">

      <div class="text-center mb-5">
        <h2>Update Customer Detail</h2>
      </div>


      <!-- Email address -->
      <div class="form-outline mb-3">
        <label class="form-label" for="emailAdd">Email address</label>
        <input type="email" id="emailAdd" class="form-control form-control-lg" formControlName="emailAdd"
          placeholder="Enter a valid email address" />
        <div
          *ngIf="updateUserForm.get('emailAdd')?.invalid && (updateUserForm.get('emailAdd')?.dirty || updateUserForm.get('emailAdd')?.touched)"
          class="text-danger">
          <div *ngIf="updateUserForm.get('emailAdd')?.hasError('required')">Email address is required.</div>
          <div *ngIf="updateUserForm.get('emailAdd')?.hasError('email')">Enter a valid email address.</div>
        </div>
      </div>



      <!-- Mobile number -->
      <div class="form-outline mb-3">
        <label class="form-label" for="mobNumber">Mobile Number</label>
        <input type="number" id="mobNumber" class="form-control form-control-lg" formControlName="mobNumber"
          placeholder="Enter mobile number" />
        <div
          *ngIf="updateUserForm.get('mobNumber')?.invalid && (updateUserForm.get('mobNumber')?.dirty || updateUserForm.get('mobNumber')?.touched)"
          class="text-danger">
          <div *ngIf="updateUserForm.get('mobNumber')?.hasError('required')">Mobile Number is required.</div>
          <div *ngIf="updateUserForm.get('mobNumber')?.hasError('invalidMobileNumber')">Invalid mobile number format
            (10 digits required).</div>
        </div>
      </div>


      <!-- Register Button -->
      <div class="justify-content-center text-lg-start mt-3 pt-2 text-center row p-4">
        <button type="button" class="btn btn-danger btn-lg col-2 m-2" routerLink="/userDashboard">Cancel</button>
        <button type="reset" class="btn btn-primary btn-lg col-2 m-2">Reset</button>
        <button type="submit" class="btn btn-success btn-lg col-6 m-2"
          style="padding-left: 2.5rem; padding-right: 2.5rem;"
          (click)="openModal(successModal)">Update Detail</button>
      </div>


    </form>
  </div>
</div>

<ng-template #successModal>
  <div class="modal-header">
    <h4 class="modal-title">Customer Detail Update Successful</h4>
    <button type="button" class="close" aria-label="Close" (click)="modalRef?.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="modalRef?.hide()">Close</button>
  </div>
</ng-template>